/*------------ URLBAR ------------*/
/* #region */
/* Hide Some Icons */
#userContext-icons,
#identity-icon-box,
#star-button-box,
#urlbar-zoom-button {
    display: none !important;
}

#urlbar>.urlbar-input-container {
    padding-left: 6px !important;
    /* border-radius: 4px !important; */
    /* align-self: center !important; */
}

/* #endregion */


/*------------ WORKSPACES ------------*/
/* #region */
#zen-current-workspace-indicator {
    min-height: 31px !important;
}

#zen-workspaces-button {
    background-color: rgba(255, 255, 255, 0.05) !important;
    border-radius: 4px !important;
    border: 1px solid #ffffff0c !important;
}

#zen-workspaces-button {
    .subviewbutton {
        &[active="true"] {
            background: rgba(255, 255, 255, 0.1) !important;
            border: 1px solid #ffffff0a !important;
            border-radius: 4px !important;
            transition: 0.3s !important;
        }

        &:hover {
            background: rgba(255, 255, 255, 0.2) !important;
            border-radius: 4px !important;
            transition: 0.3s !important;
        }

        &:after {
            display: none !important;
        }
    }
}

#zen-current-workspace-indicator {
    padding: 6px calc(4px + var(--tab-inline-padding)) !important;
    font-weight: 500 !important;
    margin-left: -4px !important;
}

/* #endregion */


/*------------- ESSENTIALS ------------*/
/* #region */
/* A. General Customization */
#zen-essentials-container {
    padding-top: 2px !important;
    /* changing essentials height */
    --tab-min-height: 38px !important;

    .tabbrowser-tab[pinned] {
        width: 100% !important;
        height: auto !important;
    }

    .tab-content[pinned] {
        height: auto !important;
    }

    .tabbrowser-tab[pinned] .tab-background {
        height: auto !important;
        border-radius: 4px !important;
        border: 1px solid rgba(255, 255, 255, 0.05) !important;
    }
}

/* B. Colouring Essentials */
#zen-essentials-container {
    .tabbrowser-tab[pinned]:nth-of-type(6n+5) .tab-background {
        /* green */
        /* background-color: color-mix(in srgb,var(--tab-group-color-green-invert) 10%, transparent)!important; */
        background-color: rgba(255, 255, 255, 0.05) !important;
        border: 1px solid color-mix(in srgb, var(--tab-group-color-green-invert) 15%, transparent) !important;
    }

    .tabbrowser-tab[pinned]:nth-of-type(6n+6) .tab-background {
        /* pink */
        /* background-color: color-mix(in srgb,var(--tab-group-color-pink-invert) 10%, transparent) !important; */
        background-color: rgba(255, 255, 255, 0.05) !important;
        border: 1px solid color-mix(in srgb, var(--tab-group-color-pink-invert) 15%, transparent) !important;
    }

    .tabbrowser-tab[pinned]:nth-of-type(6n+3) .tab-background {
        /* purple */
        /* background-color:  color-mix(in srgb,var(--tab-group-color-purple-invert) 10%, transparent) !important; */
        background-color: rgba(255, 255, 255, 0.05) !important;
        border: 1px solid color-mix(in srgb, var(--tab-group-color-purple-invert) 15%, transparent) !important;
    }

    .tabbrowser-tab[pinned]:nth-of-type(6n+2) .tab-background {
        /* red */
        /* background-color:  color-mix(in srgb,var(--tab-group-color-red-invert) 10%, transparent) !important; */
        background-color: rgba(255, 255, 255, 0.05) !important;
        border: 1px solid color-mix(in srgb, var(--tab-group-color-red-invert) 15%, transparent) !important;
    }

    .tabbrowser-tab[pinned]:nth-of-type(6n+1) .tab-background {
        /* blue */
        /* background-color: color-mix(in srgb,var(--tab-group-color-blue-invert) 10%, transparent) !important; */
        background-color: rgba(255, 255, 255, 0.05) !important;
        border: 1px solid color-mix(in srgb, var(--tab-group-color-blue-invert) 15%, transparent) !important;
    }

    .tabbrowser-tab[pinned]:nth-of-type(6n+4) .tab-background {
        /* yellow */
        /* background-color:  color-mix(in srgb,var(--tab-group-color-yellow-invert) 10%, transparent) !important; */
        background-color: rgba(255, 255, 255, 0.05) !important;
        border: 1px solid color-mix(in srgb, var(--tab-group-color-yellow-invert) 15%, transparent) !important;
    }
}


/* C. Audio Indicator */
#zen-essentials-container .tabbrowser-tab[pinned] {
    &:is([soundplaying]) .tab-background {
        background-color: color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 15%, transparent) !important;
        border: 1px solid color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 15%, transparent) !important;
    }

    &:is([muted]) .tab-background {
        background-color: color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 10%, transparent) !important;
        border: 1px solid color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 10%, transparent) !important;
    }
}

/* D. Selected Indicator */
#zen-essentials-container .tabbrowser-tab[pinned]:is([selected],
    [visuallyselected],
    [multiselected]) .tab-background {
    background-color: color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 20%, transparent) !important;
    border: 1px solid color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 25%, transparent) !important;
}

/* #endregion */


/*------------ NORMAL TAB CUSTOMIZATION ------------*/
/* #region */

/* A. General Customization */

/* adjusting tab height */
:root {
    --tab-min-height: 34px !important;
}

.tab-content:not([pinned]) {
    margin: 0px 0px 0px -2px !important;
}

.tabbrowser-tab:not([pinned]) .tab-background {
    background-color: color-mix(in srgb, var(--tab-group-color-gray-invert) 4%, transparent) !important;
    border: 1px solid color-mix(in srgb, var(--tab-group-color-gray-invert) 14%, transparent) !important;
    /* border-left: 28px solid color-mix(in srgb, var(--tab-group-color-gray-invert) 14%, transparent) !important; */
    border-radius: 4px !important;
    margin: 2px 2px !important;
    /* adjusting tab width */
}

/* text on general tab bar */
.tab-text:not([pinned]) {
    margin-top: 1px !important;
    margin-left: 6px !important;
    opacity: 80%;
}


/* tab close button */
.tab-close-button:not([pinned]) {
    scale: 0.8;
    border-radius: 6px !important;
    border: 1px solid #ffffff0c !important;
}

/* reduce favicon sizes */
.tab-icon-image:not([pinned]) {
    width: 14px !important;
    height: 14px !important;
    margin-left: 3.5px !important;
}

/* B. Audio Indicator */
.tabbrowser-tab:not([pinned]) {
    &:is([soundplaying]) .tab-background {
        background-color: color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 10%, transparent) !important;
        border: 1px solid color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 10%, transparent) !important;
        border-left: 28px solid color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 10%, transparent) !important;
    }

    &:is([muted]) .tab-background {
        background-color: color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 5%, transparent) !important;
        border: 1px solid color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 5%, transparent) !important;
        border-left: 28px solid color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 5%, transparent) !important;
    }
}

/* C. Selected Indicator */
.tabbrowser-tab:is([selected],
    [visuallyselected],
    [multiselected]) .tab-background {
    background-color: color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 15%, transparent) !important;
    border: 1px solid color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 20%, transparent) !important;
    border-left: 3px solid color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 20%, transparent) !important;
}

/* #endregion */


/*------------ PINNED TAB CUSTOMIZATION ------------*/
/* #region */
/* A. Container Manipulation */

/* limit the visible no. of row of pinned tab
   * - change the multiplier for no. of row visible */
#vertical-pinned-tabs-container {
    max-height: calc((var(--tab-min-height) + 4px) * 3) !important;
}

#vertical-pinned-tabs-container>.tabbrowser-tab {
    margin-left: 0px !important;
}

#vertical-pinned-tabs-container {

    /* B. General Customization */
    .tab-content:is([pinned]) {
        height: auto !important;
        margin: 2px 0px 2px -4px !important;
    }

    .tabbrowser-tab:is([pinned]) .tab-background {
        background-color: color-mix(in srgb, var(--tab-group-color-gray-invert) 4%, transparent) !important;
        border: 1px solid color-mix(in srgb, var(--tab-group-color-gray-invert) 14%, transparent) !important;
        /*border-left: 28px solid color-mix(in srgb, var(--tab-group-color-gray-invert) 14%, transparent) !important; */
        border-radius: 4px !important;
        margin: 2px 2px !important;
    }

    /* text on general tab bar */
    .tab-text:is([pinned]) {
        margin-top: 1px !important;
        margin-left: 6px !important;
        opacity: 80%;
    }

    /* tab close button */
    .tab-close-button:is([pinned]) {
        scale: 0.8;
        border-radius: 6px !important;
        border: 1px solid #ffffff0c !important;
    }

    /* reduce favicon sizes */
    .tab-icon-image:is([pinned]) {
        width: 14px !important;
        height: 14px !important;
        margin-left: 3.5px !important;
    }

    /* C. Audio Indicator */
    .tabbrowser-tab:is([pinned]) {
        &:is([soundplaying]) .tab-background {
            background-color: color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 10%, transparent) !important;
            border: 1px solid color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 10%, transparent) !important;
            border-left: 28px solid color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 10%, transparent) !important;
        }

        &:is([muted]) .tab-background {
            background-color: color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 5%, transparent) !important;
            border: 1px solid color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 5%, transparent) !important;
            border-left: 28px solid color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 5%, transparent) !important;
        }
    }

    /* D. Selected Indicator */
    .tabbrowser-tab:is([selected],
        [visuallyselected],
        [multiselected]) .tab-background {
        background-color: color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 15%, transparent) !important;
        border: 1px solid color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 20%, transparent) !important;
        border-left: 3px solid color-mix(in srgb, var(--identity-tab-color, var(--tab-group-color-gray-invert)) 20%, transparent) !important;
    }
}

/* #endregion */


/*------------ TAB GROUP ------------*/
/* Too unstable, so commented out
tab-group {
    display: grid !important;
    background: color-mix(in srgb, var(--tab-group-color-invert) 4%, transparent) !important;
    border: 1px solid color-mix(in srgb, var(--tab-group-color-invert) 14%, transparent) !important;
    border-radius: 4px;
    margin: 2px 2px 2px 2px !important;
    margin-inline: 2px !important;
    padding: 5px 0px !important;
    max-height: 1000px !important;
    transition: max-height 0.2s ease !important;
    overflow: hidden !important;

    & tab {
        transition: opacity 0.5s ease !important;
        margin-left: 5px !important;
        width: calc(95%) !important;
    }

    &>vbox {
        padding-top: 2px !important;
    }

    & .tab-group-label-container {
        &:after {
            display: none !important;
        }

        &>label {
            display: flex !important;
            max-width: 100% !important;
            justify-content: space-between !important;
            background: transparent !important;
            border: unset !important;
            border-radius: 0px !important;
            margin-inline: 6px 4px !important;
            font-weight: 500 !important;
            font-size: 11px !important;
            text-align: unset !important;
            color: var(--sidebar-text-color) !important;
            padding-left: 0px !important;
            opacity: 70%;
        }

        &>label::after {
            content: "" !important;
            position: relative !important;
            top: 40% !important;
            transform: translateY(-50%) !important;
            width: 11px !important;
            height: 11px !important;
            background-color: var(--sidebar-text-color);
            mask-image: url('data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxwYXRoIGQ9Ik00MTMuMSAzMjcuM2wtMS44LTIuMS0xMzYtMTU2LjVjLTQuNi01LjMtMTEuNS04LjYtMTkuMi04LjYtNy43IDAtMTQuNiAzLjQtMTkuMiA4LjZMMTAxIDMyNC45bC0yLjMgMi42Qzk3IDMzMCA5NiAzMzMgOTYgMzM2LjJjMCA4LjcgNy40IDE1LjggMTYuNiAxNS44aDI4Ni44YzkuMiAwIDE2LjYtNy4xIDE2LjYtMTUuOCAwLTMuMy0xLjEtNi40LTIuOS04Ljl6Ii8+PG1ldGFkYXRhPjxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIgeG1sbnM6cmRmcz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wMS9yZGYtc2NoZW1hIyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj48cmRmOkRlc2NyaXB0aW9uIGFib3V0PSJodHRwczovL2ljb25zY291dC5jb20vbGVnYWwjbGljZW5zZXMiIGRjOnRpdGxlPSJhcnJvdyx1cCxiIiBkYzpkZXNjcmlwdGlvbj0iYXJyb3csdXAsYiIgZGM6cHVibGlzaGVyPSJJY29uc2NvdXQiIGRjOmRhdGU9IjIwMTctMDktMjQiIGRjOmZvcm1hdD0iaW1hZ2Uvc3ZnK3htbCIgZGM6bGFuZ3VhZ2U9ImVuIj48ZGM6Y3JlYXRvcj48cmRmOkJhZz48cmRmOmxpPkJlbmphbWluIEogU3BlcnJ5PC9yZGY6bGk+PC9yZGY6QmFnPjwvZGM6Y3JlYXRvcj48L3JkZjpEZXNjcmlwdGlvbj48L3JkZjpSREY+PC9tZXRhZGF0YT48L3N2Zz4=');
            mask-size: contain;
            mask-repeat: no-repeat;
            background-size: contain !important;
            background-repeat: no-repeat !important;
            transition: max-height 0.2s ease !important;
        }
    }

    &[collapsed] {
        overflow: hidden !important;
        max-height: 3rem !important;

        & tab {
            opacity: 0 !important;
        }

        & .tab-group-label-container>label {
            background: transparent !important;
            border: unset !important;
            font-weight: 500 !important;
            text-align: unset !important;
            color: var(--sidebar-text-color) !important;
            padding-left: 0px !important;
        }

        & .tab-group-label-container>label::after {
            content: "" !important;
            position: relative !important;
            top: 40% !important;
            transform: translateY(-50%) rotate(180deg) !important;
            width: 11px !important;
            height: 11px !important;
            background-color: var(--sidebar-text-color);
            mask-image: url('data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxwYXRoIGQ9Ik00MTMuMSAzMjcuM2wtMS44LTIuMS0xMzYtMTU2LjVjLTQuNi01LjMtMTEuNS04LjYtMTkuMi04LjYtNy43IDAtMTQuNiAzLjQtMTkuMiA4LjZMMTAxIDMyNC45bC0yLjMgMi42Qzk3IDMzMCA5NiAzMzMgOTYgMzM2LjJjMCA4LjcgNy40IDE1LjggMTYuNiAxNS44aDI4Ni44YzkuMiAwIDE2LjYtNy4xIDE2LjYtMTUuOCAwLTMuMy0xLjEtNi40LTIuOS04Ljl6Ii8+PG1ldGFkYXRhPjxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIgeG1sbnM6cmRmcz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wMS9yZGYtc2NoZW1hIyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj48cmRmOkRlc2NyaXB0aW9uIGFib3V0PSJodHRwczovL2ljb25zY291dC5jb20vbGVnYWwjbGljZW5zZXMiIGRjOnRpdGxlPSJhcnJvdyx1cCxiIiBkYzpkZXNjcmlwdGlvbj0iYXJyb3csdXAsYiIgZGM6cHVibGlzaGVyPSJJY29uc2NvdXQiIGRjOmRhdGU9IjIwMTctMDktMjQiIGRjOmZvcm1hdD0iaW1hZ2Uvc3ZnK3htbCIgZGM6bGFuZ3VhZ2U9ImVuIj48ZGM6Y3JlYXRvcj48cmRmOkJhZz48cmRmOmxpPkJlbmphbWluIEogU3BlcnJ5PC9yZGY6bGk+PC9yZGY6QmFnPjwvZGM6Y3JlYXRvcj48L3JkZjpEZXNjcmlwdGlvbj48L3JkZjpSREY+PC9tZXRhZGF0YT48L3N2Zz4=');
            mask-size: contain;
            mask-repeat: no-repeat;
            background-size: contain !important;
            background-repeat: no-repeat !important;
            transition: max-height 0.2s ease !important;
        }
    }
} 
*/
